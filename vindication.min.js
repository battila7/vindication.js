(function(){var n=this,e=function(n){return n instanceof e?n:this instanceof e?void(this._wrapped=n):new e(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.Vindication=e):n.Vindication=e,e.VERSION="2.2.0";var u=Object.prototype.toString;e.extend=function(n,u){if(!u)return n;if(n||(n={}),e.isObject(u))for(var t in u)t in n?e.extend(n[t],u[t]):n[t]=u[t];return n},e.isString=function(n){return"[object String]"===u.call(n)},e.isObject=function(n){var e=typeof n;return"function"===e||"object"===e&&!!n},e.isNumber=function(n){return u.call(n)==="[object "+Number+"]"||!isNaN(n)},e.isDate=function(n){return u.call(n)==="[object "+Date+"]"},e.isFunction=function(n){return u.call(n)==="[object "+Function+"]"},e.isArray=Array.isArray||function(n){return"[object Array]"===u.call(n)},"function"!=typeof/./&&(e.isFunction=function(n){return"function"==typeof n}),e.isRule=function(n){return n&&e.isObject(n)},e.requiredFn=function(n,e){return!e||n},e.minlengthFn=function(n,e){return n&&n.length>=e},e.maxlengthFn=function(n,e){return!n||n.length<=e},e.lengthFn=function(n,u){return e.isString(u)&&(u=JSON.parse(u)),e.minlengthFn(n,u[0])&&e.maxlengthFn(n,u[1])},e.elementFn=function(n,u){return e.isArray(u)&&-1!==u.indexOf(n)},e.minFn=function(n,e){return n&&Number(n)>=e},e.maxFn=function(n,e){return n&&Number(n)<=e},e.rangeFn=function(n,e){return n&&n>=e[0]&&n<=e[1]},e.patternFn=function(n,e){return new RegExp(e).test(n)},e.equaltoFn=function(n,e){return n===e},e.mincheckFn=function(n,u){return e.minlengthFn(n,u)},e.maxcheckFn=function(n,u){return e.maxlengthFn(n,u)},e.checkFn=function(n,u){return e.lengthFn(n,u)},e.typeFn=function(n,e){var u;switch(e){case"number":u=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":u=/^\d+$/;break;case"integer":u=/^-?\d+$/;break;case"alphanum":u=/^\w+$/;break;case"email":u=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;break;case"url":u=new RegExp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;case"dateIso":u=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":u=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==n?u.test(n):!1},e.checkConstraints=function(n,u,t,r){var i=u();if(e.isFunction(t)){if(!t.call(r,i))return"This value seems to be invalid: "+i}else for(var F in t)if("message"!==F){var a=t[F];if(a.params&&a.condition){if(a.condition(n)){var c=e[F+"Fn"](i,a.params)?null:(t.message||"This value seems to be invalid:")+" "+i;if(c)return c}}else{var o=e[F+"Fn"](i,a)?null:(t.message||"This value seems to be invalid:")+" "+i;if(o)return o}}},e.validateAll=function(n,u,t){for(var r={},i=0;i<n.length;i+=1){var F=n[i],a=e.validate(F,u,t);a&&(r[i]=a)}return r},e.validate=function(n,u,t){return function(n,u){function t(n,u){var r=n;if(e.isRule(u)&&(e.isString(n)||e.isDate(n)||e.isNumber(n)||e.isFunction(n)))r=function(){return n};else if(e.isArray(n)){if(r=[],e.isRule(u))for(var i in n)n[i]&&r.push(t(n[i],u))}else if(e.isObject(n)&&(r={},u))for(var F in n)e.isRule(u[F])&&(r[F]=t(n[F],u[F]));return r}function r(n,u,t,i){var F,a=function(){return null};if(e.isObject(t))for(var c in t)if(t[c].required&&!u[c])F||(F={}),F[c]=e.checkConstraints(n,a,t[c],i);else{var o=r(n,u[c]||{},t[c],i);o&&(F||(F={}),F[c]=o)}return F}function i(n,u,t,r){var F;if(e.isFunction(u)){if(t)return e.checkConstraints(n,u,t,r)}else if(e.isArray(u)){for(var a in u)if(t){var c=i(n,u[a],t,r);c&&(F||(F=[]),F.push(c))}}else if(e.isObject(u))for(var o in u)if(t[o]){var s=i(n,u[o],t[o],r);s&&(F||(F={}),F[o]=s)}return F}var F=t(n,u),a=r(F,F,u,n),c=i(F,F,u,n);return e.extend(a,c)}(n,u)}}).call(this);